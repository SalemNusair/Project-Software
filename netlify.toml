[build]

    # Default build command
    # deploy firebase functions then build the app
    command = "npm run validate-env && cd functions && npm install && npm run deploy && cd .. && npm run build"

    # Directory (relative to root of your repo) that contains the deploy-ready 
    # HTML files and assets generated by the build. If a base directory has
    # been specified, include it in the publish directory path
    publish = "build/"

# The following redirect is intended for use with most SPAs that handle
# routing internally.
[[redirects]]
    from = "/*"
    to = "/index.html"
    status = 200


[[headers]]
    # Define which paths this specific [[headers]] block will cover.
    for = "/*"

    [headers.values]
        X-Frame-Options = "DENY"
        X-XSS-Protection = "1; mode=block"
        Referrer-Policy = "no-referrer"
        X-Content-Type-Options= "nosniff"
